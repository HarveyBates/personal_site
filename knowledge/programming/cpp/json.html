
<!doctype html>
<head>
	<meta charset="utf-8">
	<title>Harvey Bates - JSON</title>
	<meta name="description" content="Woring with JSON in C++">
	<meta name="author" content="Harvey Bates">
	<link rel="stylesheet" href="../../../css/style.css">
	<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@300&display=swap" rel="stylesheet">
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/styles/routeros.min.css">
	<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.7.1/highlight.min.js"></script>
	<script>hljs.highlightAll();</script>
</head>

<body>

	<div class="header">
		<div class="heading"> 
			<a class="heading" href="https://harveybates.xyz">Harvey Bates.</a>
		</div> 
		<div class="navbar">
			<a href="#about" class="about-tab">About</a>
			<a href="blog" class="blog-tab">Blog</a>
			<a href="publications" title="publications" class="publications-tab">Publications</a>
			<a href="https://harveybates.xyz" class="home-tab">Home</a>
		</div>
	</div>

	<div class="card-container">
		<div class="card">
			<h2>JSON (Working with JSON data in C++)</h2>
			<h3>Description</h3>
			<p>JSON formatted data is a great asset for sending and recieving formatted information. In C++ the nlohmann library provides an easy way to create and display JSON formated data.</p>
			<p>Documentation: <a href="https://github.com/nlohmann/json">nlohmann/json</a></p>

			<h3>Installation</h3>
			<h4>Homebrew: </h4>
			<pre><code class="bash">brew install nlohmann-json</code></pre>
			<p>Link within CMakeLists.txt (CMake).</p>
			<pre><code class="cmake">find_package(nlohmann_json 3.2.0 REQUIRED)
target_link_libraries(foo PRIVATE nlohmann_json::nlohmann_json)</code></pre>

			<h4>CPM-Make: </h4>
			<p>Check in <a href="https://github.com/nlohmann/json/releases">releases</a> for the latest version.</p>
			<p>You will need the URL specific to that release version and the SHA256 key.</p>
			<p>Only get the include folder as we don't want to download all the test examples.</p>
			<pre><code class="cmake">CPMAddPackage(
	NAME nlohmann_json
	VERSION 3.9.0
	# Just get the latest (3.9.0) version, and only the include folder as the rep is big
	URL https://github.com/nlohmann/json/releases/download/v3.9.0/include.zip
	URL_HASH SHA256=5b9b819aed31626aefe2eace23498cafafc1691890556cd36d2a8002f6905009
)</code></pre>

			<h3>Usage</h3>
			<h4>Initalisation</h4>
			<pre><code class="cpp">#include "nlohmann/json.hpp"
using json = nlohmann::json;</code></pre>
			
			<h4>Construct JSON Class</h4>
			<pre><code class="cpp">json j;</code></pre>

			<h4>Add Values</h4>
			<pre><code class="cpp">j["value_name"] = "value"; // Single value
j["value_name1"]["value_name2"] = "value"; // Nested value</code></pre>

			<h4>Print Formatted JSON Data</h4>
			<pre><code class="cpp">int n = 4;
// n represents an int for the number of spaces to indent
std::cout << j.dump(n) << std::endl;</code></pre>

			<h4>Example Output</h4>
			<pre><code class="cpp">{
	"value_name": "value", 
	"value_name1" {
		"value_name2": "value"
	}
}</code></pre>

		</div>
	</div>	
</body>




